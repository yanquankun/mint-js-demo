<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>mint-js-demo</title>
    <style>
      [id^="progress"] {
        margin: 70px;
      }
    </style>
  </head>

  <body>
    <div id="progress1"></div>
  </body>
  <script>
    window.log = log = function () {
      let out = "",
        fun_name = arguments.callee.caller
          ? arguments.callee.caller.name || "输出"
          : typeof window !== undefined
          ? "WINDOW"
          : "NODE";
      for (const arg of arguments) {
        out += arg + " ";
      }
      return [
        `%c${fun_name}:%c${out}`,
        "background: #00cc00; color: #fff; border-radius: 3px 0 0 3px;padding:2px 5px",
        "background: #1475B2; color: #fff; border-radius: 0 3px 3px 0;padding:2px 5px",
      ];
    };
  </script>
  <!-- <script src="./myfilter.js"></script> -->
  <!-- <script src="./once.js"></script> -->
  <!-- <script src="./myInterval.js"></script> -->
  <!-- <script src="./progress-bar.js"></script> -->
  <!-- <script src="./myPromise.js"></script> -->
  <!-- <script src="./bigNumAdd.js"></script> -->
  <!-- <script src="./vue.test.js"></script> -->
  <!-- <script src="./simplePromise.js"></script> -->
  <!-- <script src="./chainPromise.js"></script> -->
  <script src="./subscribe.js"></script>
  <!-- <script src="./observer.js"></script> -->
  <script>
    if (window.progress) {
      var progress_ins = progress.init({
        domId: "progress1",
      });
      progress.forward(progress_ins.domId, 30);

      var progress_ins2 = progress.init({});
      progress.forward(progress_ins2.domId, 66.6);
      setInterval(() => {
        progress.delPDom(progress_ins2.domId);
      }, 10000);
    }
  </script>
  <script>
    var subject = window.PubSub;
    var sub1 = subject.subscribe("test", function (res) {
      console.log("sub1:", res);
    });
    var sub2 = subject.subscribe("test", function (res) {
      console.log("sub2:", res);
    });
    subject.publish("test", "我是发布订阅模式");
    subject.unSubscribe(sub1);
    subject.publish("test", "我是发布订阅模式1");
  </script>
</html>
